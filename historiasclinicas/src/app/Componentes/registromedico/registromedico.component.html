<div class="container-fluid">
  <div class="row">
    <div class="col-md-3 col-xl-2 px-sm-2 px-0">
      <app-medico></app-medico>
    </div>
    <div class="col-md-9">
      <br>
      <!-- Background image -->
      <div class="p-5 bg-image mi-formulario"></div>
      <!-- Background image -->

      <div class="card mx-4 mx-md-5 shadow-5-strong">
        <div class="card-body py-5 px-md-5">

          <div class="row d-flex justify-content-center">
            <div class="col-lg-8">
              <h1 class="fw-bold mb-12">Historia Clínica</h1>
              <form [formGroup]="formulario" (ngSubmit)="crearHistoriaClinica()">
                <div class="form-group my-3">
                  <small class="form-text text-danger"
                      *ngIf="formulario.get('fechaCreacion').invalid && formulario.get('fechaCreacion').touched">
                      Este campo es obligatorio
                    </small>
                  <label for="fechaCreacion">Fecha de creación:</label>
                  <div class="input-group">
                    <input type="date" class="form-control" #fechaCreacionInput id="fechaCreacion"
                      formControlName="fechaCreacion" />
                    <div class="input-group-append">
                      <label class="input-group-text" for="fecha-actual">
                        <input type="checkbox" id="fecha-actual" class="form-check-input mx-2" #fechaActualCheckbox
                          (change)="setFechaActual(fechaCreacionInput, fechaActualCheckbox)" /> Establecer fecha actual
                      </label>
                    </div>
                  </div>
                </div>
                <div class="form-group my-3">
                  <label for="enfermedad">Nombre de la enfermedad:</label>
                  <input type="text" class="form-control" id="enfermedad" formControlName="enfermedad" />
                </div>
                <div class="form-row justify-content-between">
                  <div class="form-group col-md-5">
                    <label for="peso">Peso (en KG):</label>
                    <input type="number" class="form-control" id="peso" formControlName="peso" />
                  </div>
                  <div class="form-group col-md-5 my-3">
                    <label for="altura">Altura (en centímetros):</label>
                    <input type="number" class="form-control" id="altura" formControlName="altura" />
                  </div>
                </div>
                <div class="form-group my-3">
                  <label>Medicación:</label>
                  <div class="row">
                    <div class="col-md-4">
                      <input type="text" class="form-control" placeholder="Nombre del medicamento"
                        formControlName="medicacion" />
                    </div>
                    <div class="col-md-4">
                      <input type="text" class="form-control" placeholder="Droga" formControlName="droga" />
                    </div>
                    <div class="col-md-4">
                      <input type="text" class="form-control" placeholder="Miligramos" formControlName="dosis" />
                    </div>
                  </div>
                </div>
                <div class="form-group my-3">
                  <label for="descripcion">Descripción:</label>
                  <textarea class="form-control" id="descripcion" rows="3" formControlName="descripcion"></textarea>
                </div>
                <div class="form-group">
                  <label for="indicaciones">Indicaciones:</label>
                  <textarea class="form-control" id="indicaciones" rows="3" formControlName="indicaciones"></textarea>
                  <small class="form-text text-danger"
                    *ngIf="formulario.get('indicaciones').invalid && formulario.get('indicaciones').touched">
                    Este campo es obligatorio
                  </small>
                </div>
                <div class="form-group my-3">
                  <label for="archivo">Subir archivo:</label>
                  <br />
                  <input type="file" class="form-control-file" id="archivo" />
                </div>
                <button type="submit" (click)="onEnviar($event)" class="btn btn-primary">Guardar</button>
              </form>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>